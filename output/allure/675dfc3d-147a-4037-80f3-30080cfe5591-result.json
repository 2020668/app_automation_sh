{"name": "test_screen_order[data0]", "status": "broken", "statusDetails": {"message": "ValueError: invalid literal for int() with base 10: '功'", "trace": "self = <test_cases.test_orderbook.TestOrderBook object at 0x000002266FB0AC18>\ndata = {'login_phone': '18971335925', 'login_pwd': '335925', 'main_store_name': '吉野家日式料理店', 'status': '全部订单', ...}\nrun_app = <appium.webdriver.webdriver.WebDriver (session=\"023786a9-035a-4487-b7b8-964b1b91824d\")>\n\n    @pytest.mark.screen\n    @pytest.mark.parametrize(\"data\", od.screen_data)\n    def test_screen_order(self, data, run_app):\n        # 执行登录\n        LoginPage(run_app).login_action(data[\"login_phone\"], data[\"login_pwd\"])\n    \n        screen_result = OrderBookPage(run_app).screen_order(login_phone=data[\"login_phone\"],\n                                                            login_pwd=data[\"login_pwd\"],\n                                                            main_store_name=data[\"main_store_name\"],\n                                                            store_name=data[\"store_name\"],\n                                                            store_id=data[\"store_id\"],\n                                                            time_desc=data[\"time_desc\"],\n                                                            time_start=data[\"time_start\"],\n                                                            time_end=data[\"time_end\"],\n                                                            terminal_type=data[\"terminal_type\"],\n                                                            terminal_name=data[\"terminal_name\"],\n                                                            terminal_id=data[\"terminal_id\"],\n                                                            type_source=data[\"type_source\"],\n>                                                           status=data[\"status\"]\n                                                            )\n\ntest_cases\\test_orderbook.py:80: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npage_ojbects\\orderbook_page.py:522: in screen_order\n    self.select_datetime(datetime=time_start)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <page_ojbects.orderbook_page.OrderBookPage object at 0x000002266FB360B8>\ndatetime = '2019-12-15 11:30'\n\n    def select_datetime(self, datetime):\n        \"\"\"\n        如出现第一个00识别失败,可先滑动一格再来获取值进行判断\n        :param datetime:\n        :return: None\n        \"\"\"\n    \n        time.sleep(1)\n        # 分别获取年月日小时分钟并转换成int型\n        year = int(datetime[:4])\n        month = int(datetime[5:7])\n        day = int(datetime[8:10])\n        hour = int(datetime[11:13])\n        minute = int(datetime[14:16])\n        logging.info(\"滑动输入的时间为-->{}{}{}{}{}\".format(year, month, day, hour, minute))\n    \n        # 处理year  先截图获取文本 判断 是否滑动\n        while True:\n    \n            # 对开始时间的年份进行截图\n            self.save_img_by_custom_size(start_x=0.02, start_y=0.895, end_x=0.155, end_y=0.92, img_desc=\"时间的年份\")\n    \n            time.sleep(2)\n    \n            # 获取截图的文本\n            api = BaiduAIP()\n            text = api.picture_text(os.path.join(CUSTOM_SIZE_IMG_DIR, \"时间的年份.png\"))\n            text = int(text) if text != '' else 1\n            logging.info(\"当前年份是-->{}, 继续滑动...\".format(text) if text != year else \"年份-->{} 滑动选中OK\".format(text))\n    \n            if text == year:\n                break\n            # 判断然后滑动一个单位\n            elif text < year:\n                self.swipe_diy(start_width=0.1, start_height=0.9, end_width=0.1, end_height=0.87)\n            else:\n                self.swipe_diy(start_width=0.1, start_height=0.87, end_width=0.1, end_height=0.9)\n    \n        # 处理month\n        while True:\n    \n            self.save_img_by_custom_size(start_x=0.27, start_y=0.895, end_x=0.335, end_y=0.92, img_desc=\"时间的月份\")\n    \n            time.sleep(2)\n    \n            api = BaiduAIP()\n            text = api.picture_text(os.path.join(CUSTOM_SIZE_IMG_DIR, \"时间的月份.png\"))\n            text = int(text) if text != '' else 1\n            logging.info(\"当前的月份是-->{}, 继续滑动...\".format(text) if text != month else \"月份-->{} 滑动选中OK\".format(text))\n    \n            if text == month:\n                break\n            elif text < month:\n                delta = month - text if text != '' else 1\n                i = 0\n                while i < delta:\n                    self.swipe_diy(start_width=0.3, start_height=0.9, end_width=0.3, end_height=0.87)\n                    i += 1\n            else:\n                delta = text - month if text != '' else 1\n                i = 0\n                while i < delta:\n                    self.swipe_diy(start_width=0.3, start_height=0.87, end_width=0.3, end_height=0.9)\n                    i += 1\n    \n        # 处理day\n        while True:\n    \n            # 单独识别数字存在成功率低的问题 故加上单位截图 然后只取数字部分的文本\n            self.save_img_by_custom_size(start_x=0.46, start_y=0.895, end_x=0.528, end_y=0.92, img_desc=\"时间的日期\")\n    \n            time.sleep(2)\n    \n            api = BaiduAIP()\n            text = api.picture_text(os.path.join(CUSTOM_SIZE_IMG_DIR, \"时间的日期.png\"))\n            text = int(text) if text != '' else 1\n            logging.info(\"当前的日期是-->{}, 继续滑动...\".format(text) if text != day else \"日期-->{} 滑动选中OK\".format(text))\n    \n            if text == day:\n                break\n    \n            elif text < day:\n                # 防止数字识别失败 返回空字符串 给个默认值1\n                delta = day - text if text != '' else 1\n                i = 0\n                while i < delta:\n                    self.swipe_diy(start_width=0.49, start_height=0.9, end_width=0.49, end_height=0.87)\n                    i += 1\n            else:\n                delta = text - day if text != '' else 1\n                i = 0\n                while i < delta:\n                    self.swipe_diy(start_width=0.49, start_height=0.87, end_width=0.49, end_height=0.9)\n                    i += 1\n    \n        # 处理hour\n        while True:\n    \n            self.save_img_by_custom_size(start_x=0.652, start_y=0.895, end_x=0.717, end_y=0.923, img_desc=\"时间的小时\")\n    \n            time.sleep(2)\n    \n            api = BaiduAIP()\n            text = api.picture_text(os.path.join(CUSTOM_SIZE_IMG_DIR, \"时间的小时.png\"))\n>           text = int(text) if text != '' else 1\nE           ValueError: invalid literal for int() with base 10: '功'\n\npage_ojbects\\orderbook_page.py:887: ValueError"}, "attachments": [{"name": "log", "source": "3af2b1a4-4210-4cdd-9c28-98ff1e65169b-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "data", "value": "{'login_phone': '18971335925', 'login_pwd': '335925', 'main_store_name': '吉野家日式料理店', 'store_name': '吉野家日式料理店', 'store_id': '2019121716261782222', 'time_desc': None, 'time_start': '2019-12-15 11:30', 'time_end': '2020-01-07 13:11', 'terminal_type': '全部终端', 'terminal_name': None, 'terminal_id': None, 'type_source': '全部', 'status': '全部订单'}"}], "start": 1578503206421, "stop": 1578503311377, "uuid": "0a30a512-d2df-4b1c-a1f1-5c0ee51018b5", "historyId": "c05f399134c806d5c61523f634b99134", "testCaseId": "3d777f4d2a951069fe1277598e603313", "fullName": "test_cases.test_orderbook.TestOrderBook#test_screen_order", "labels": [{"name": "tag", "value": "order"}, {"name": "tag", "value": "screen"}, {"name": "tag", "value": "smoke"}, {"name": "parentSuite", "value": "test_cases"}, {"name": "suite", "value": "test_orderbook"}, {"name": "subSuite", "value": "TestOrderBook"}, {"name": "host", "value": "DESKTOP-HH83IEE"}, {"name": "thread", "value": "18924-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cases.test_orderbook"}]}